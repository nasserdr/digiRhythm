<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Visualizing actograms, average activity and diurnality index • digiRhythm</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualizing actograms, average activity and diurnality index">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">digiRhythm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Actgram_diurnality_avg_activity.html">Visualizing actograms, average activity and diurnality index</a></li>
    <li><a class="dropdown-item" href="../articles/DFC_and_HP_and_changing_plots.html">Computing the DFC/HP and manipulating the functions returned objects</a></li>
    <li><a class="dropdown-item" href="../articles/Loading_and_preprocessing_data_in_DigiRhythm.html">Loading and preprocessing data in DigiRhythm</a></li>
    <li><a class="dropdown-item" href="../articles/Visualisation.html">Further options of visualization in DigiRhythm</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualizing actograms, average activity and diurnality index</h1>
                        <h4 data-toc-skip class="author">Hassan-Roland
Nasser and Marie Schneider</h4>
            
            <h4 data-toc-skip class="date">2025-03-11</h4>
      

      <div class="d-none name"><code>Actgram_diurnality_avg_activity.Rmd</code></div>
    </div>

    
    
<p>The three most commonly used tools to perform a first inspection on
activity data are:</p>
<ul>
<li><p>Actograms: These are 2D graphs that show tiled (15 min per tile)
activity during 24h period over several days. These graphs are useful to
visualize daily cycles of activities. In actograms, the x-axis represent
the day time, the y-axis represent the day and the intensity of the
colors represents the activity amplitude.</p></li>
<li><p>Average activity plots: These graphs show the average (arithmetic
mean) activity for a specific moment of the day. The average is done
over all days taking one data point from each day and averaging all the
values.</p></li>
<li><p>Diurnality index: This type of graphs show whether the activity
tends to be more diurnal or nocturnal. In another word, this shows
whether the subject of the study is more active during the day or during
the night. The value ranges from -1 to +1. Whereas -1 means a completely
nocturnal activity and +1 means a comletely diurnal activity. Animal’s
result with balanced day and night activity is 0.</p></li>
</ul>
<p>We start by loading a dataset from the library digiRhythm, we then
remove the outliers and resample it to 15 min. We choose one activity to
study.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nasserdr.github.io/digiRhythm/">digiRhythm</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">digiRhythm</span><span class="fu">::</span><span class="va"><a href="../reference/df691b_1.html">df691b_1</a></span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_activity_outliers.html">remove_activity_outliers</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/resample_dgm.html">resample_dgm</a></span><span class="op">(</span><span class="va">data</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="va">activity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt;              datetime Motion.Index Steps</span></span>
<span><span class="co">#&gt; 1 2020-08-25 00:00:00           20     8</span></span>
<span><span class="co">#&gt; 2 2020-08-25 00:15:00           52    46</span></span>
<span><span class="co">#&gt; 3 2020-08-25 00:30:00           61    39</span></span>
<span><span class="co">#&gt; 4 2020-08-25 00:45:00           29    18</span></span>
<span><span class="co">#&gt; 5 2020-08-25 01:00:00           83    26</span></span>
<span><span class="co">#&gt; 6 2020-08-25 01:15:00           50    23</span></span></code></pre></div>
<div class="section level2">
<h2 id="actograms">Actograms<a class="anchor" aria-label="anchor" href="#actograms"></a>
</h2>
<p>We then proceed to plot the actogram of the activity. We can choose
the start and end date of the actogram. We can also choose an alias for
the activity. This alias is used for aesthetics purpose in the plots.
For instance, if the name of the activity column is motion.index, we
don’t probably want to show this string in the plot’s legend, but rather
have it coded properly as ‘Motion Index’. The actogram function also
offers the possibility to save the graph directly in a path as shown in
the commented line below. Users only provide the path (relative or
physical) without the file name ignoring the extension. All pictures in
digiRhythm are saved with the tiff format as it’s the most widely used
extension for scientific publications.</p>
<p>User have the possibility to save the plot with another extension or
configuration simply by saving the actogram object in a variable (which
is a ggplot object) and control it as they wish to. User could
additionally use this actogram object to work on the calculated
data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="st">"2020-08-25"</span> <span class="co"># year-month-day</span></span>
<span><span class="va">end</span> <span class="op">&lt;-</span> <span class="st">"2020-10-11"</span> <span class="co"># year-month-day --&gt;</span></span>
<span><span class="va">activity_alias</span> <span class="op">&lt;-</span> <span class="st">"Motion Index"</span></span>
<span><span class="co"># save &lt;- 'sample_results/actogram' #if NULL, don't save the image</span></span>
<span><span class="va">my_actogram</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/actogram.html">actogram</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">activity</span>, <span class="va">activity_alias</span>, <span class="va">start</span>, <span class="va">end</span>, save <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p><img src="Actgram_diurnality_avg_activity_files/figure-html/actogram-1.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="average-activity">Average Activity<a class="anchor" aria-label="anchor" href="#average-activity"></a>
</h2>
<p>Now, we plot the average activity. We follow the same dataframe and
same logic like for the actograms. And user could use the resulted
object as the actogram object.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="st">"2020-08-25"</span> <span class="co"># year-month-day</span></span>
<span><span class="va">end</span> <span class="op">&lt;-</span> <span class="st">"2020-10-11"</span> <span class="co"># year-month-day --&gt;</span></span>
<span><span class="va">activity_alias</span> <span class="op">&lt;-</span> <span class="st">"Motion Index"</span></span>
<span><span class="co"># save &lt;- 'sample_results/actogram' #if NULL, don't save the image</span></span>
<span><span class="va">my_daa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/daily_average_activity.html">daily_average_activity</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">activity</span>,</span>
<span>  <span class="va">activity_alias</span>,</span>
<span>  <span class="va">start</span>,</span>
<span>  <span class="va">end</span>,</span>
<span>  save <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="Actgram_diurnality_avg_activity_files/figure-html/daily_average_activity-1.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="diurnality-index">Diurnality Index<a class="anchor" aria-label="anchor" href="#diurnality-index"></a>
</h2>
<p>The diurnality index could be computed and plotted using the
diurnality function as follows. The user has the opportunity to change
day- and night-time. The default daytime is 06:30 to 16:30. Default
night-time occurred from 18:00 to 05:00. The user can adapt the time to
lighttime or exclude some management times of the animals. Management
times are periods when humans influence the activity of the animal, so
that it is not possible to realize their own activity (for excample
milking time in dairy cows). As the actogram function it offers the
possibility to save the graph directly or using the ggplot object to
configurate a different plot or work on the calculated data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">day_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"06:30:00"</span>, <span class="st">"16:30:00"</span><span class="op">)</span></span>
<span><span class="va">night_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"18:00:00"</span>, <span class="st">"T05:00:00"</span><span class="op">)</span></span>
<span><span class="va">my_di</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/diurnality.html">diurnality</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">activity</span>, <span class="va">day_time</span>, <span class="va">night_time</span>, save <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p><img src="Actgram_diurnality_avg_activity_files/figure-html/diurnality-1.png" width="672"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hassan-Roland Nasser, Marie Schneider, Joanna Stachowicz, Christina Umstaetter.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
